func Person(name, money) {
    let t = {};
    name = name;
    money = money;

    func spend(x) {
        money = money - x;
        print name + " has $" + money;
    }

    func greet() {
        print name + " has $" + money;
    }

    t.spend = spend;
    t.greet = greet;
    t.self = t;
    return t;
}

let a = Person("Peter", 10);

let spend = a.self.spend;
a.self.spend(2);
a.self.spend(2);

let greet = a.self.greet;
a.self.greet();
a.self.greet();
a.self.greet();

a.self.spend(2);
a.self.spend(2);
a.self.spend(2);
a.self.spend(2);
a.self.spend(2);

a.self.greet();
a.self.greet();
a.self.greet();
a.self.greet();
