import "Arrays";
import "net";
import "math";

let server = net.NewServer();
let users = {};

func handleRoot(req, res) {
    res.json('{"message": "Hello"}');
}

func addUser(req,res) {
    let splits = req.path.split('/');
    let userId = splits[splits.length - 1];
    users[userId] = users;
    let str = '' + users;
    res.json('{"message": "'+  str +'"}');
}


print "Registering handlers to server: " + server;
let p = server.post;
let g = server.get;
// server.post("/user/:id", addUser);
print "Starting server on port 2000";
server.get("/", handleRoot);
server.printHandlers();
server.listen(2000);
